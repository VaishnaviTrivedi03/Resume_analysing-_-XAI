<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Upload and Run with Moving Logos + Dashboards</title>
  <style>
    /* Basic Reset */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    /* Global Styles */
    body {
      font-family: Arial, sans-serif;
      background-color: #121212;
      color: #fff;
      line-height: 1.6;
    }
    .container {
      max-width: 1200px;
      margin: auto;
      padding: 50px 20px;
      text-align: center;
    }
    h1 {
      font-size: 3rem;
      margin-bottom: 20px;
    }
    /* Forms Container */
    .form-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 40px;
      margin-bottom: 40px;
    }
    form {
      background: #1e1e1e;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      width: 100%;
      max-width: 400px;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    form:hover {
      transform: translateY(-5px);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
    }
    label {
      display: block;
      font-weight: bold;
      margin-bottom: 10px;
      text-align: left;
    }
    input[type="file"] {
      width: 100%;
      padding: 10px;
      margin-bottom: 20px;
      border: 1px solid #333;
      border-radius: 5px;
      background: #121212;
      color: #fff;
    }
    /* Button Styles */
    button {
      padding: 16px 20px;
      font-size: 1.2rem;
      border-radius: 8px;
      border: none;
      cursor: pointer;
      transition: background 0.3s ease, transform 0.2s ease;
      margin: 10px;
    }
    button:hover {
      transform: translateY(-3px);
    }
    .upload-btn {
      background-color: #28A745;
      color: #fff;
      width: 100%;
    }
    .run-btn {
      background-color: #FFC107;
      color: #000;
      width: 100%;
    }
    /* Professional Dashboard Buttons */
    .dashboard-container {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 30px;
      flex-wrap: wrap;
      margin-top: 20px;
    }
    .dashboard-btn {
      background-color: #17a2b8;
      color: #fff;
      padding: 16px 30px;
      font-size: 1.2rem;
      border-radius: 8px;
      border: none;
      cursor: pointer;
      transition: background 0.3s ease, transform 0.2s ease;
      min-width: 200px;
    }
    .dashboard-btn:hover {
      background-color: #138496;
      transform: translateY(-3px);
    }
    /* Moving Logos Section */
    .logo-scroll {
      width: 100%;
      overflow: hidden;
      background: rgba(255, 255, 255, 0.1);
      padding: 20px 0;
      margin-bottom: 20px;
      border-radius: 10px;
    }
    .logo-track {
      display: flex;
      align-items: center;
      gap: 60px;
      width: calc(200%);
      animation: scroll 20s linear infinite;
    }
    .logo-track img {
      max-height: 50px;
      filter: brightness(0) invert(1);
    }
    @keyframes scroll {
      from {
        transform: translateX(0);
      }
      to {
        transform: translateX(-50%);
      }
    }
    /* CSV Table Styles */
    .csv-table {
      width: 100%;
      margin: 20px auto;
      border-collapse: collapse;
      background: #1e1e1e;
      color: #fff;
    }
    .csv-table th,
    .csv-table td {
      padding: 12px 15px;
      border: 1px solid #333;
    }
    .csv-table th {
      background: #333;
    }
    /* Responsive Adjustments */
    @media (max-width: 480px) {
      h1 {
        font-size: 2rem;
      }
      form {
        padding: 20px;
      }
      button {
        font-size: 1rem;
        padding: 12px 16px;
      }
      .dashboard-btn {
        font-size: 1rem;
        padding: 14px 20px;
        min-width: 150px;
      }
    }
  </style>
  <script>
    // Parse CSV text and return an array of rows
    function parseCSV(csvText) {
      const lines = csvText.trim().split(/\r?\n/);
      return lines.map(line => line.split(','));
    }

    // Create an HTML table from CSV data and display it in the given container
    function createTableFromCSV(csvData, containerId) {
      const rows = parseCSV(csvData);
      const table = document.createElement('table');
      table.className = 'csv-table';

      // Create header row
      const thead = document.createElement('thead');
      const headerRow = document.createElement('tr');
      rows[0].forEach(headerText => {
        const th = document.createElement('th');
        th.textContent = headerText.trim();
        headerRow.appendChild(th);
      });
      thead.appendChild(headerRow);
      table.appendChild(thead);

      // Create table body
      const tbody = document.createElement('tbody');
      for (let i = 1; i < rows.length; i++) {
        const row = document.createElement('tr');
        rows[i].forEach(cellText => {
          const td = document.createElement('td');
          td.textContent = cellText.trim();
          row.appendChild(td);
        });
        tbody.appendChild(row);
      }
      table.appendChild(tbody);

      // Display table in the given container
      const container = document.getElementById(containerId);
      container.innerHTML = '';
      container.appendChild(table);
      container.style.display = 'block';
    }

    // Load CSV from the provided path and display it in the specified container
    function loadAndDisplayCSV(csvPath, containerId) {
      // Hide both containers before loading new data
      document.getElementById('hrTableContainer').style.display = 'none';
      document.getElementById('jobTableContainer').style.display = 'none';

      fetch(csvPath)
        .then(response => {
          if (!response.ok) {
            throw new Error("Network response was not OK");
          }
          return response.text();
        })
        .then(text => {
          createTableFromCSV(text, containerId);
        })
        .catch(err => {
          alert("Error fetching the CSV file:\n" + err.message);
        });
    }

    function showHRDashboard() {
      const hrCSVPath = "/hr_table";
      loadAndDisplayCSV(hrCSVPath, 'hrTableContainer');
    }

    function showJobSeeker() {
      const jobCSVPath = "/job_table";
      loadAndDisplayCSV(jobCSVPath, 'jobTableContainer');
    }
  </script>
</head>
<body>
  <div class="container">
    <h1>Upload and Run with Moving Logos</h1>
    <div class="form-container">
      <!-- Upload Form -->
      <form action="/upload" method="post" enctype="multipart/form-data">
        <label for="file">Choose a PDF file:</label>
        <input type="file" id="file" name="file" accept=".pdf" required>
        <button type="submit" class="upload-btn">Upload</button>
      </form>
      <!-- Run Python Script Form -->
      <form action="/run" method="post">
        <h2>Run Model </h2>
        <button type="submit" class="run-btn">Run</button>
      </form>
    </div>
    <!-- Professional Dashboard Buttons -->
    <div class="dashboard-container">
      <button class="dashboard-btn" type="button" onclick="showHRDashboard()">HR Dashboard</button>
      <button class="dashboard-btn" type="button" onclick="showJobSeeker()">Job Seeker</button>
      <button class="dashboard-btn" type="button" onclick="window.location.href='/display_tables'">Display Tables</button>
    </div>
    <!-- Sections to display CSV tables if desired -->
    <div id="hrTableContainer" style="display:none;"></div>
    <div id="jobTableContainer" style="display:none;"></div>
    <!-- Moving Logos Section -->
    <div class="logo-track">
      <a href="https://www.google.com" target="_blank" rel="noopener noreferrer">
        <img src="https://upload.wikimedia.org/wikipedia/commons/2/2f/Google_2015_logo.svg" alt="Google" />
      </a>
      <a href="https://www.ibm.com" target="_blank" rel="noopener noreferrer">
        <img src="https://upload.wikimedia.org/wikipedia/commons/5/51/IBM_logo.svg" alt="IBM" />
      </a>
      <a href="https://about.meta.com" target="_blank" rel="noopener noreferrer">
        <img src="https://upload.wikimedia.org/wikipedia/commons/6/6a/Meta_Platforms_Inc._logo.svg" alt="Meta" />
      </a>
      <a href="https://www.microsoft.com" target="_blank" rel="noopener noreferrer">
        <img src="https://upload.wikimedia.org/wikipedia/commons/4/44/Microsoft_logo.svg" alt="Microsoft" />
      </a>
      <!-- Duplicate logos for continuous scrolling -->
      <a href="https://www.google.com" target="_blank" rel="noopener noreferrer">
        <img src="https://upload.wikimedia.org/wikipedia/commons/2/2f/Google_2015_logo.svg" alt="Google" />
      </a>
      <a href="https://www.ibm.com" target="_blank" rel="noopener noreferrer">
        <img src="https://upload.wikimedia.org/wikipedia/commons/5/51/IBM_logo.svg" alt="IBM" />
      </a>
      <a href="https://about.meta.com" target="_blank" rel="noopener noreferrer">
        <img src="https://upload.wikimedia.org/wikipedia/commons/6/6a/Meta_Platforms_Inc._logo.svg" alt="Meta" />
      </a>
      <a href="https://www.microsoft.com" target="_blank" rel="noopener noreferrer">
        <img src="https://upload.wikimedia.org/wikipedia/commons/4/44/Microsoft_logo.svg" alt="Microsoft" />
      </a>
    </div>
    
    </div>
  </div>
</body>
</html>
